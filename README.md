# MyPersonalBlog

#### ä»‹ç»
åŸºäºSpringboot+Vueçš„å‰åç«¯åˆ†ç¦»å¼çš„ä¸ªäººåšå®¢äº‘æ¶æ„

#### è½¯ä»¶æ¶æ„
è½¯ä»¶æ¶æ„è¯´æ˜

##  1.æŠ€æœ¯ä»‹ç»

**å‰ç«¯**ï¼švue + vuex + vue-router + axios + vuetify + element + echarts

**åç«¯**ï¼šSpringBoot + nginx + docker + SpringSecurity + Swagger2 + MyBatisPlus + Mysql + Redis + elasticsearch + rabbitMQ + MaxWell

**å…¶ä»–**ï¼šæ¥å…¥QQï¼Œå¾®åšç¬¬ä¸‰æ–¹ç™»å½•

## 2.è¿è¡Œç¯å¢ƒ

**å¼€å‘å·¥å…·**ï¼šIDEA

**æœåŠ¡å™¨**ï¼šé˜¿é‡Œäº‘2æ ¸4G CentOS7.2

**CDN**ï¼šé˜¿é‡Œäº‘å…¨ç«™åŠ é€Ÿ

**å¯¹è±¡å­˜å‚¨**ï¼šé˜¿é‡Œäº‘OSS

## 3.é¡¹ç›®æˆªå›¾



## 4.é¡¹ç›®æ€»ç»“

æ­¤æ¬¡å¯¹åšå®¢è¿›è¡Œäº†å…¨æ–¹ä½çš„å‡çº§ï¼Œå‰ç«¯æŠ€æœ¯ç‚¹å’Œåç«¯æŠ€æœ¯ç‚¹ç›¸æ¯”ç¬¬ä¸€ç‰ˆæå‡äº†ä¸å°‘ã€‚

å‰ç«¯æ–¹é¢ï¼šUIæ¨¡ä»¿çš„æ˜¯hexoçš„butterfly(åŸè°…æˆ‘ä¸ä¼šUIè®¾è®¡)ï¼ŒåŠ å…¥äº†è®¸å¤šåŠ¨ç”»è¿‡æ¸¡æ•ˆæœï¼Œå¹¶è€ƒè™‘åˆ°äº†ä¸€äº›ç”¨æˆ·ç»†èŠ‚ï¼ˆæ·±è‰²æ¨¡å¼ï¼Œå›¾ç‰‡é¢„è§ˆï¼Œä»£ç å¤åˆ¶ç­‰ï¼‰ï¼Œè¯„è®ºåŠ å…¥äº†è¡¨æƒ…å’Œåˆ†é¡µï¼Œæå‡äº†ç”¨æˆ·ä½“éªŒã€‚æ–°å¢äº†ç•™è¨€å¼¹å¹•å¢™ï¼Œæ”¯æŒåŒ¿åå‘é€å¼¹å¹•ã€‚åå°æ–‡ç« ç¼–è¾‘å™¨æ¢ä¸ºMarkDownï¼Œè¯­æ³•æ›´åŠ ç®€æ´ï¼Œæ–°å¢äº†è‰ç¨¿ç®±å’Œè‡ªåŠ¨ä¿å­˜æ–‡ç« ç­‰åŠŸèƒ½ã€‚

åç«¯æ–¹é¢ï¼šä½¿ç”¨Dockeréƒ¨ç½²ç¯å¢ƒï¼Œæ›´åŠ æ–¹ä¾¿å¿«æ·ã€‚é‡‡ç”¨elasticsearchåšä¸ºæœç´¢å¼•æ“ï¼Œæ”¯æŒæœç´¢ç»“æœåˆ†è¯å’Œé«˜äº®ã€‚ä½¿ç”¨MaxWellç›‘å¬mysqlæ•°æ®ï¼Œç»‘å®šRabbitMQæ¶ˆæ¯é˜Ÿåˆ—åŒæ­¥esæ–‡ç« æ•°æ®ã€‚æ¥å…¥äº†QQï¼Œå¾®åšç¬¬ä¸‰æ–¹ç™»å½•ï¼Œæ— éœ€é‚®ç®±æ³¨å†Œå³å¯ç™»å½•ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™æ¬¡å‡çº§åä¸»æµæŠ€æœ¯åŸºæœ¬å…¨ç”¨åˆ°äº†ï¼Œå¯¹äºå­¦ä¹ æ¥è¯´æ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„é¡¹ç›®ã€‚é—¨æ§›å¯¹äºåˆå­¦è€…æ¥è¯´ç¨å¾®é«˜äº†ä¸€ç‚¹ğŸ˜‚ï¼Œä¸è¿‡æˆ‘ä¼šå°½é‡å¸®åŠ©å¤§å®¶è§£å†³é—®é¢˜ï¼Œå†™æ–‡ç« é¿å…å¤§å®¶è¸©å‘ã€‚æœåŠ¡å™¨ç”±äºä½¿ç”¨äº†elasticsearchè¿™ä¸ªå†…å­˜å¤§æˆ·æ‰€ä»¥å‡çº§åˆ°äº†2æ ¸4Gï¼Œå¦‚æœæ˜¯ä½¿ç”¨å­¦ç”Ÿæœºçš„å°ä¼™ä¼´å¯ä»¥å…ˆä¸ç”¨elasticsearchï¼Œç”¨Mysqlæ¨¡ç³ŠæŸ¥è¯¢ä»£æ›¿ã€‚

[é¡¹ç›®æºç åœ°å€](https://gitee.com/kkhead/my-personal-blog)ï¼Œæ„Ÿè°¢å¤§å®¶æ”¯æŒï¼Œé¡¹ç›®é…ç½®éƒ¨ç½²è¿è¡Œå¦å¼€æ–‡ç« ä»‹ç»ã€‚


#### å®‰è£…æ•™ç¨‹
## 1.æ‰“åŒ…åç«¯é¡¹ç›®jaråŒ…

æ‰“å¼€pom.xmlæ–‡ä»¶ï¼Œä¿®æ”¹packagingæ–¹å¼ä¸ºjar

![QQæˆªå›¾20210813231637 1.png](https://static.talkxj.com/articles/25de8986f7af569e7586936b847f596a.png)

ç‚¹å‡»å³ä¾§mavenæ’ä»¶ -> package

![QQæˆªå›¾20210813231652 1.png](https://static.talkxj.com/articles/1f03c29f1da200e8bc7eab611697475b.png)

æ‰“åŒ…æˆåŠŸåä¼šåœ¨targetç›®å½•ä¸‹ç”ŸæˆjaråŒ…

![QQæˆªå›¾20210813231721 1.png](https://static.talkxj.com/articles/a8c50ac983abf425dfccda924b4d0ab3.png)


## 2.ç¼–å†™Dockerfileæ–‡ä»¶

```sh
FROM java:8
VOLUME /tmp
ADD blog-springboot-0.0.1.jar blog.jar       
ENTRYPOINT ["java","-Djava.security.egd=file:/dev/./urandom","-jar","/blog.jar"] 
ENV TZ=Asia/Shanghai
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone
```

**psï¼šDockerfileæ–‡ä»¶ä¸éœ€è¦åç¼€ï¼Œç›´æ¥ä¸ºæ–‡ä»¶æ ¼å¼**

## 3.ç¼–å†™blog-start.shè„šæœ¬

```sh
#æºjarè·¯å¾„  
SOURCE_PATH=/usr/local/docker
#docker é•œåƒ/å®¹å™¨åå­—æˆ–è€…jaråå­— è¿™é‡Œéƒ½å‘½åä¸ºè¿™ä¸ª
SERVER_NAME=blog-springboot-0.0.1.jar
TAG=latest
SERVER_PORT=8080
#å®¹å™¨id
CID=$(docker ps | grep "$SERVER_NAME" | awk '{print $1}')
#é•œåƒid
IID=$(docker images | grep "$SERVER_NAME:$TAG" | awk '{print $3}')
if [ -n "$CID" ]; then
  echo "å­˜åœ¨å®¹å™¨$SERVER_NAME, CID-$CID"
  docker stop $CID
  docker rm $CID
fi
# æ„å»ºdockeré•œåƒ
if [ -n "$IID" ]; then
  echo "å­˜åœ¨$SERVER_NAME:$TAGé•œåƒï¼ŒIID=$IID"
  docker rmi $IID
else
  echo "ä¸å­˜åœ¨$SERVER_NAME:$TAGé•œåƒï¼Œå¼€å§‹æ„å»ºé•œåƒ"
  cd $SOURCE_PATH
  docker build -t $SERVER_NAME:$TAG .
fi
# è¿è¡Œdockerå®¹å™¨
docker run --name $SERVER_NAME -v /usr/local/upload:/usr/local/upload -d -p $SERVER_PORT:$SERVER_PORT $SERVER_NAME:$TAG
echo "$SERVER_NAMEå®¹å™¨åˆ›å»ºå®Œæˆ"
```

**psï¼šshæ–‡ä»¶éœ€è¦ç”¨notepad++è½¬ä¸ºUnixæ ¼å¼**

![QQæˆªå›¾20210402213326.png](https://static.talkxj.com/articles/1617370849316.png)

## 4.å°†æ–‡ä»¶ä¼ è¾“åˆ°æœåŠ¡å™¨

![QQæˆªå›¾20210916104127.png](https://static.talkxj.com/articles/7bf9fc73a83b29737f02ee0f9db547b7.png)

å°†ä¸Šè¿°ä¸‰ä¸ªæ–‡ä»¶ä¼ è¾“åˆ°/usr/local/dockerä¸‹ï¼ˆæ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶å¤¹ï¼‰

![QQæˆªå›¾20210402212725.png](https://static.talkxj.com/articles/1617370924245.png)

## 5.dockerè¿è¡Œåç«¯é¡¹ç›®

è¿›å…¥æœåŠ¡å™¨/usr/local/dockerä¸‹ï¼Œæ„å»ºåç«¯é•œåƒ

```sh
sh ./blog-start.sh 
```

![QQæˆªå›¾20210402213552.png](https://static.talkxj.com/articles/1617370970473.png)

**psï¼šç¬¬ä¸€æ¬¡æ—¶é—´å¯èƒ½æ¯”è¾ƒé•¿ï¼Œè€å¿ƒç­‰å¾…å³å¯**

æŸ¥çœ‹æ˜¯å¦æ„å»ºæˆåŠŸ

![QQæˆªå›¾20210402214341.png](https://static.talkxj.com/articles/1617371042321.png)

å¯ä»¥å»æµ‹è¯•ä¸‹æ¥å£æ˜¯å¦è¿è¡ŒæˆåŠŸ

![QQæˆªå›¾20200706094027.png](https://static.talkxj.com/articles/1593999635017.png)

**psï¼šéœ€è¦é‡æ–°éƒ¨ç½²åªéœ€é‡æ–°ä¼ jaråŒ…ï¼Œæ‰§è¡Œshè„šæœ¬å³å¯**

## 6.æ‰“åŒ…å‰ç«¯é¡¹ç›®

æ‰“å¼€cmdï¼Œè¿›å…¥Vueé¡¹ç›®è·¯å¾„ -> npm run build

![QQæˆªå›¾20200706091427.png](https://static.talkxj.com/articles/1593998091709.png)

æ‰“åŒ…æˆåŠŸåä¼šåœ¨ç›®å½•ä¸‹ç”Ÿæˆdistæ–‡ä»¶

![QQæˆªå›¾20200706091817.png](https://static.talkxj.com/articles/1593998311729.png)

å°†Vueæ‰“åŒ…é¡¹ç›®ä¼ è¾“åˆ°/usr/local/vueä¸‹ï¼ˆç”±äºæˆ‘å‰å°å’Œåå°åˆ†ä¸ºä¸¤ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥æ”¹ådistæ–‡ä»¶ï¼‰

![QQæˆªå›¾20200706092538.png](https://static.talkxj.com/articles/1593998758469.png)

## 7.nginxé…ç½®(æœ‰åŸŸåé€‰è¿™ä¸ª)

**å‚è€ƒåŸŸåè§£æ**

![QQæˆªå›¾20220114151133.png](https://static.talkxj.com/articles/108e6eb7baa26d42017d6b50466a1174.png)

åœ¨/usr/local/nginxä¸‹åˆ›å»ºnginx.confæ–‡ä»¶ï¼Œæ ¼å¼å¦‚ä¸‹

```sh
events {
    worker_connections  1024;
}

http {
    include       mime.types;
    default_type  application/octet-stream;
    sendfile        on;
    keepalive_timeout  65;

    client_max_body_size     50m;
    client_body_buffer_size  10m; 
    client_header_timeout    1m;
    client_body_timeout      1m;

    gzip on;
    gzip_min_length  1k;
    gzip_buffers     4 16k;
    gzip_comp_level  4;
    gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png;
    gzip_vary on;

server {
        listen       80;
        server_name  å‰å°åŸŸå;
     
        location / {		
            root   /usr/local/vue/blog;
            index  index.html index.htm; 
            try_files $uri $uri/ /index.html;	
        }
			
	location ^~ /api/ {		
            proxy_pass http://ä½ çš„ip:8080/;
	    proxy_set_header   Host             $host;
            proxy_set_header   X-Real-IP        $remote_addr;						
            proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
        }
		
    }
	
server {
        listen       80;
        server_name  åå°å­åŸŸå;
     
        location / {		
            root   /usr/local/vue/admin;
            index  index.html index.htm; 
            try_files $uri $uri/ /index.html;	
        }
			
	location ^~ /api/ {		
            proxy_pass http://ä½ çš„ip:8080/;
	    proxy_set_header   Host             $host;
            proxy_set_header   X-Real-IP        $remote_addr;						
            proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
        }
		
    }

server {
        listen       80;
        server_name  websocketå­åŸŸå;
     
        location / {
          proxy_pass http://ä½ çš„ip:8080/websocket;
          proxy_http_version 1.1;
          proxy_set_header Upgrade $http_upgrade;
          proxy_set_header Connection "Upgrade";
          proxy_set_header Host $host:$server_port;
          proxy_set_header X-Real-IP $remote_addr;
          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
          proxy_set_header X-Forwarded-Proto $scheme;
       }
	
    }

server {
        listen       80;
        server_name  ä¸Šä¼ æ–‡ä»¶å­åŸŸå;
     
        location / {		
          root /usr/local/upload/; 
        }		
		
    }
 
 }
```

**psï¼šæˆ‘å‰å°å’Œåå°æ—¶åˆ†ä¸ºä¸¤ä¸ªåŸŸåï¼Œæ‰€ä»¥å†™äº†ä¸¤ä¸ªserverï¼Œå‰ç«¯é¡¹ç›®è·¯å¾„ä¸ºä¹‹å‰ä¼ è¾“çš„è·¯å¾„ï¼Œå…¶ä»–ä¸¤ä¸ªä¸ºæ–‡ä»¶ä¸Šä¼ åŸŸåå’Œwebsocketè½¬å‘åŸŸåã€‚**

dockerå¯åŠ¨nginxæœåŠ¡

```sh
docker run --name nginx --restart=always -p 80:80 -d -v /usr/local/nginx/nginx.conf:/etc/nginx/nginx.conf -v /usr/local/vue:/usr/local/vue -v /usr/local/upload:/usr/local/upload nginx 
```

## 8.nginxé…ç½®(æ— åŸŸåé€‰è¿™ä¸ª)

```sh
events {
    worker_connections  1024;
}

http {
    include       mime.types;
    default_type  application/octet-stream;
    sendfile        on;
    keepalive_timeout  65;

    client_max_body_size     50m;
    client_body_buffer_size  10m; 
    client_header_timeout    1m;
    client_body_timeout      1m;

    gzip on;
    gzip_min_length  1k;
    gzip_buffers     4 16k;
    gzip_comp_level  4;
    gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png;
    gzip_vary on;

server {
        listen       80;
        server_name  ä½ çš„ip;
     
        location / {		
            root   /usr/local/vue/blog;
            index  index.html index.htm; 
            try_files $uri $uri/ /index.html;	
        }
			
	location ^~ /api/ {		
            proxy_pass http://ä½ çš„ip:8080/;
	    proxy_set_header   Host             $host;
            proxy_set_header   X-Real-IP        $remote_addr;						
            proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
        }
		
    }
	
server {
        listen       81;
        server_name  ä½ çš„ip;
     
        location / {		
            root   /usr/local/vue/admin;
            index  index.html index.htm; 
            try_files $uri $uri/ /index.html;	
        }
			
	location ^~ /api/ {		
            proxy_pass http://ä½ çš„ip:8080/;
	    proxy_set_header   Host             $host;
            proxy_set_header   X-Real-IP        $remote_addr;						
            proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
        }
		
    }

server {
        listen       82;
        server_name  ä½ çš„ip;
     
        location / {
          proxy_pass http://ä½ çš„ip:8080/websocket;
          proxy_http_version 1.1;
          proxy_set_header Upgrade $http_upgrade;
          proxy_set_header Connection "Upgrade";
          proxy_set_header Host $host:$server_port;
          proxy_set_header X-Real-IP $remote_addr;
          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
          proxy_set_header X-Forwarded-Proto $scheme;
       }
	
    }

server {
        listen       83;
        server_name  ä½ çš„ip;
     
        location / {		
          root /usr/local/upload/; 
        }		
		
    }
 
 }
```

dockerå¯åŠ¨nginxæœåŠ¡

```sh
docker run --name nginx --restart=always -p 80:80 -p 81:81 -p 82:82 -p 83:83 -d -v /usr/local/nginx/nginx.conf:/etc/nginx/nginx.conf -v /usr/local/vue:/usr/local/vue -v /usr/local/upload:/usr/local/upload nginx 
```

**psï¼šéœ€è¦é€šè¿‡ip + ç«¯å£å·è®¿é—®é¡¹ç›®**

## 9.è¿è¡Œæµ‹è¯•

å»æµè§ˆå™¨æµ‹è¯•ä¸‹æ˜¯å¦è¿è¡ŒæˆåŠŸ

![QQæˆªå›¾20200706094824.png](https://static.talkxj.com/articles/1594000142563.png)

## 10.å…¶ä»–è®¾ç½®

è¿›å…¥åå°ç®¡ç† -> ç³»ç»Ÿç®¡ç† -> ç½‘ç«™ç®¡ç† -> å…¶ä»–è®¾ç½®ï¼Œé…ç½®websocketåœ°å€ï¼Œæœ‰åŸŸååˆ™å¡«ws://websocketåŸŸåï¼Œæ— åŸŸååˆ™å¡«ws://ip:82

![QQæˆªå›¾20210910204242.png](https://static.talkxj.com/articles/7ba0cb206bb6a4973d1d9fe0c0bbb69d.png)

## 11.æ€»ç»“

æ•´ä¸ªå‰åç«¯åˆ†ç¦»çš„éƒ¨ç½²æ•™ç¨‹åˆ°è¿™é‡Œå°±ç»“æŸå•¦ï¼Œç¬¬ä¸€æ¬¡éƒ¨ç½²å¯èƒ½ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œä¸è¿‡åé¢å°±è½»è½¦ç†Ÿè·¯äº†ï¼Œæœ‰é—®é¢˜çš„å¯ä»¥ç§èŠé—®æˆ‘æˆ–è€…åœ¨è¯„è®ºåŒºç•™è¨€ã€‚



#### ä½¿ç”¨è¯´æ˜

> é¡¹ç›®éœ€è¦é…ç½®çš„åœ°æ–¹ä¸å¤šï¼Œä¸»è¦å°±ä¸¤ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼šé‚®ç®±æˆæƒå’Œç¬¬ä¸‰æ–¹æˆæƒéœ€è¦æå‰ç”³è¯·

## 1.åŸºæœ¬è®¾ç½®

### 1.1 æ‰“å¼€application.ymlï¼Œä¿®æ”¹æ•°æ®åº“ipç­‰åŸºæœ¬ä¿¡æ¯

![QQæˆªå›¾20210818144550.png](https://static.talkxj.com/articles/b984c1f473e8903be92408bfa698afe9.png)

è¿™äº›åŸºæœ¬çš„é…ç½®å°±ä¸å¤šè¯´äº†ï¼ŒåŸºæœ¬å°±æ˜¯æ”¹ä¸‹æœåŠ¡å™¨ipå’Œè´¦å·å¯†ç ä»€ä¹ˆçš„

### 1.2 è·å–QQé‚®ç®±æˆæƒç ï¼ˆé‚®ç®±éªŒè¯ç ç”¨ï¼‰

æ‰“å¼€QQé‚®ç®±å®˜ç½‘ï¼Œç‚¹å‡»è®¾ç½® -> è´¦æˆ· -> å¾€ä¸‹ç¿»

![QQæˆªå›¾20200630213835.png](https://static.talkxj.com/articles/1593524350827.png)

ç‚¹å‡»ç”Ÿæˆæˆæƒç 

![QQæˆªå›¾20200630220934.png](https://static.talkxj.com/articles/1593526185438.png)

æ›´æ”¹applicationä¸­çš„é‚®ç®±é…ç½®

![QQæˆªå›¾20200630221617.png](https://static.talkxj.com/articles/1593526696245.png)

**usernameå¡«ä½ çš„QQå·é‚®ç®±ï¼Œpasswordå¡«åˆšæ‰çš„æˆæƒç **

## 2.è‡ªå®šä¹‰è®¾ç½®

### 2.1 æœç´¢å’Œä¸Šä¼ æ¨¡å¼

æœç´¢æ¨¡å¼å¯é€‰elasticsearchæˆ–mysqlï¼Œä¸Šä¼ æ¨¡å¼å¯é€‰ossæˆ–localï¼ŒæŒ‰ä¸ªäººæƒ…å†µé€‰æ‹©ã€‚

![QQæˆªå›¾20220114153605.png](https://static.talkxj.com/articles/addd7f792d8c1d74a03fed7a58e08846.png)

### 2.2 ä¿®æ”¹applicationä¸­çš„é˜¿é‡Œäº‘OSSé…ç½®ä¿¡æ¯ï¼ˆè‹¥é€‰OSSä¸Šä¼ æ¨¡å¼ï¼‰

ç‚¹å‡»OSSç®¡ç† -> ç‚¹å‡»Access Key

![QQæˆªå›¾20220114152927.png](https://static.talkxj.com/articles/ae892bb6da40d2465b19c5de795c4d49.png)

æŸ¥çœ‹AccessKey IDå’ŒAccessKey Secret

![QQæˆªå›¾20200701173256.png](https://static.talkxj.com/articles/1593596274580.png)

æŸ¥çœ‹bucketä¿¡æ¯ï¼Œæ²¡æœ‰åˆ™å…ˆåˆ›å»º

![QQæˆªå›¾20220114152421.png](https://static.talkxj.com/articles/a0e2cda751a081d03749956109c01f1b.png)

ä¿®æ”¹é…ç½®ä¿¡æ¯

![QQæˆªå›¾20220127143857.png](https://static.talkxj.com/articles/697a321696570fdff14999e06ff6283f.png)


**urlï¼š** å¡«ä½ çš„buckeåŸŸååœ°å€

**endpointï¼š** å¡«endpointä¿¡æ¯

**accessKeyIdï¼ŒaccessKeySecretï¼š** å¡«åˆšåˆšè·å–çš„ä¿¡æ¯

**bucketNameï¼š** å¡«åˆ›å»ºçš„bucketName

æœ€åOSSè®¿é—®æƒé™è®°å¾—è®¾ç½®ä¸ºå…¬å…±è¯»

![QQæˆªå›¾20220114152757.png](https://static.talkxj.com/articles/8fec9bf7e6c716f4970cd0223beaf1a9.png)


**psï¼šå¦‚æœé€‰localä¸Šä¼ æ¨¡å¼è¯·çœ‹éƒ¨ç½²æ–‡ç« nginxé…ç½®éƒ¨åˆ†ï¼ï¼ï¼**


## 3.ç¬¬ä¸‰æ–¹ç™»å½•è®¾ç½®ï¼ˆå¯é€‰ï¼‰

### 3.1 æ‰“å¼€QQäº’è”å®˜ç½‘ç”³è¯·æˆæƒ

ç™»å½•åç‚¹å‡»å³ä¸Šè§’å¤´åƒ -> ä¸ªäººæ¥å…¥ 

![QQæˆªå›¾20200701162420.png](https://static.talkxj.com/articles/1593592258970.png)

ç”³è¯·æˆåŠŸåç‚¹å‡»åº”ç”¨ç®¡ç†åˆ›å»ºï¼Œå°±èƒ½å¾—åˆ°appIdï¼ŒappSecretå’Œå›è°ƒåœ°å€ï¼ˆä¸€èˆ¬ä¸€å¤©å·¦å³å®¡æ ¸æˆåŠŸï¼‰

![QQæˆªå›¾20200701163357.png](https://static.talkxj.com/articles/1593592484456.png)

![QQæˆªå›¾20220127143306.png](https://static.talkxj.com/articles/70e16886695767b466a04be848490ba6.png)

### 3.2 æ‰“å¼€å¾®åšå¼€å‘è€…å¹³å°ç”³è¯·æˆæƒ

ç”³è¯·æ­¥éª¤å¤§åŒå°å¼‚ï¼Œè¿™é‡Œç›´æ¥å±•ç¤ºç»“æœï¼ŒåŒæ ·çš„appIdï¼ŒappSecretå’Œå›è°ƒåœ°å€

![QQæˆªå›¾20200701164214.png](https://static.talkxj.com/articles/1593593080715.png)

![QQæˆªå›¾20220127143418.png](https://static.talkxj.com/articles/c38d781adfd2db62c9e435c6eecee7de.png)

**psï¼šç¬¬ä¸‰æ–¹ç™»å½•å›è°ƒåŸŸåæœ€å¥½ä¿æŒä¸€æ ·å†™/oauth/login/qqå’Œ/oauth/login/weiboï¼Œå¦‚è‹¥ä¿®æ”¹éœ€åˆ°router.jsé‡Œé…ç½®OauthLoginç»„ä»¶è·¯ç”±ï¼Œå›è°ƒåŸŸåæ ¹æ®ä½ ç½‘ç«™çš„æƒ…å†µé€‰æ‹©httpæˆ–httpsã€‚**

### 3.3 ä¿®æ”¹vueä¸­çš„ç¬¬ä¸‰æ–¹æˆæƒä¿¡æ¯

> æ‰“å¼€vueé¡¹ç›®ä¸­çš„publicçš„index.htmlæ–‡ä»¶ï¼Œä¿®æ”¹å¼•å…¥çš„js

```html
<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js?appkey=ä½ çš„å¾®åšappId" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" src="http://connect.qq.com/qc_jssdk.js" data-callback="true" data-appid="ä½ çš„QQAppId" data-redirecturi="QQå›è°ƒåœ°å€" charset="utf-8"></script>
```

æ‰“å¼€å‰å°é¡¹ç›®assetsä¸‹çš„/js/configä¿®æ”¹é…ç½®ä¿¡æ¯ï¼Œå¡«å†™APPIDå’Œå›è°ƒåœ°å€

![QQæˆªå›¾20210818152204.png](https://static.talkxj.com/articles/624a3496cd0809fbb788ee2ba5a9c727.png)


### 3.4 ä¿®æ”¹applicationä¸­çš„ç¬¬ä¸‰æ–¹æˆæƒä¿¡æ¯

![QQæˆªå›¾20200701170018.png](https://static.talkxj.com/articles/1593594734916.png)

ä¿®æ”¹appIdï¼ŒappSecretå’Œå›è°ƒåœ°å€å³å¯


## 4.æ€»ç»“

åªéœ€è¦ä¿®æ”¹ymlæç¤ºçš„åœ°æ–¹å³å¯ï¼Œä¸ç”¨åˆ é™¤å’Œä¿®æ”¹å…¶ä»–ä»»ä½•åœ°æ–¹ã€‚


#### å‚ä¸è´¡çŒ®

1.  Fork æœ¬ä»“åº“
2.  æ–°å»º Feat_xxx åˆ†æ”¯
3.  æäº¤ä»£ç 
4.  æ–°å»º Pull Request


#### ç‰¹æŠ€

1.  ä½¿ç”¨ Readme\_XXX.md æ¥æ”¯æŒä¸åŒçš„è¯­è¨€ï¼Œä¾‹å¦‚ Readme\_en.md, Readme\_zh.md
2.  Gitee å®˜æ–¹åšå®¢ [blog.gitee.com](https://blog.gitee.com)
3.  ä½ å¯ä»¥ [https://gitee.com/explore](https://gitee.com/explore) è¿™ä¸ªåœ°å€æ¥äº†è§£ Gitee ä¸Šçš„ä¼˜ç§€å¼€æºé¡¹ç›®
4.  [GVP](https://gitee.com/gvp) å…¨ç§°æ˜¯ Gitee æœ€æœ‰ä»·å€¼å¼€æºé¡¹ç›®ï¼Œæ˜¯ç»¼åˆè¯„å®šå‡ºçš„ä¼˜ç§€å¼€æºé¡¹ç›®
5.  Gitee å®˜æ–¹æä¾›çš„ä½¿ç”¨æ‰‹å†Œ [https://gitee.com/help](https://gitee.com/help)
6.  Gitee å°é¢äººç‰©æ˜¯ä¸€æ¡£ç”¨æ¥å±•ç¤º Gitee ä¼šå‘˜é£é‡‡çš„æ ç›® [https://gitee.com/gitee-stars/](https://gitee.com/gitee-stars/)
